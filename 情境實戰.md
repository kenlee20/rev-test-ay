#### Q1: 試想臨時有一活動網頁專案將於近日推出，預期推廣期間訪客流量會是平日常態之百倍(或更多)請簡易描述你/妳將如何確保服務能在推廣期間正常運作?考量的細節是什麼?
---
會先依據平時流量與performance初算可承受流量的機器大小與數量（通常會多抓一些buffer），並在活動前依照初算的規格進行預估流量的壓力測試，已確保擴增後的機器是可以承受。

若有使用到如AWS CloudFront或AWS ELB等服務，會需要先與AWS聯繫，請AWS協助在活動開始前將服務pre-warn，以防止瞬間流量太大導致AWS服務異常。

並監控request、response time、cpu、memory等等，一旦發現異常立即介入處理。

---
#### Q2: 試想有一個 API 伺服器集群，背後由多台機器組成，此時服務監控系統發現其中一台回應時間經常逾時，僅有此機器異常，請簡易描述你/妳將會如何進行問題排查?考量的細節是什麼?
---
第一部會先檢查該機器的CPU/Memory/Disk/Network等狀況，確認是否由相關相關資源滿載所導致。若有，而其他機器卻沒什麼loading，會需要確認是否因stickiness設定時間過長，或是流量分配不均等狀況。又或者是因為沒有做log rotate導致Disk滿載。
接者會去檢查相關Application Log與System Log是否有是否有明顯的錯誤訊息。
---
#### Q3: 試想有一項目運行於 AWS EC2 機器之上，已確認該服務仍然正常運行中，但由於不明原因導致無法再次透過 SSH 登入確認狀態(已確認排除並非網路異常，亦非防火牆阻擋所導致)。 請簡易描述你/妳將如何排查問題，並且讓服務恢復正常運作?考量的細節是什麼?如果可以， 請試著回答造成無法登入的可能的肇因為何?
---
因運行在EC2上的服務仍然正常運行，可以先排除Disk滿載的問題。

此時會先檢查EC2上的CPU/Memory狀況，確認以往與目前是否有有滿載導致 ssh process kill的狀況，若持續滿載會需要去協調來調整EC2規格來讓服務恢復。

檢查ssh process是否還存活，我會先使用telnet、nc等工具確認該EC2 22 port是否listening。

若無，則可得知ssh process未正常運行，可以透過AWS console上的system log確認是否有ssh相關log，如：OOM等等; 若有，則可能是ssh config遭修改或authorized_keys被移除。

接者可以透過AWS Session Manager連入將ssh重啟或是使用SSM runbook `AWSSupport-TroubleshootSSH`來進行恢復（前提是EC2有安裝SSM Agent與Role權限足夠）。
以上方無法使用的話，我會嘗試重啟EC2。仍然無法的話，會透過關機將root ebs掛載在新的EC2上直接修改相關ssh設定，再重新掛回EC2（此類方式皆會導致服務中斷，需要協調執行時間）。

---
#### Q4: 試想已有一組 ELK/EFK 日誌服務集群，而今日有一新服務上線並且串接日誌紀錄，讓開發者能夠透過 Kibana 進行線上錯誤排查，你/妳會如何將日誌檔內容串接至 ELK/EFK 系統?考量的細節是什麼?
---
第一部會先檢查新服務的log格式，是否包含時間戳、Log等級、訊息內容、ID等等，與格式是否需要另外做處理，並確認ELK/EFK是否有足夠的資源。接者會根據公司政策或RD需求設定index lifecycle與template。
---